<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Sign Up • Gyan Bakery</title>
  <link rel="stylesheet" href="assets/styles.css">
</head>
<body style="display:flex; flex-direction:column; align-items:center; justify-content:center; min-height:100vh; background:var(--bg); padding: 2rem 0;">
  <div style="background:white; padding:2rem; border-radius:12px; box-shadow:var(--shadow); width:100%; max-width:400px;">
    <div class="text-center mb-4">
      <a href="index.html" class="logo justify-center"><span>Gyan Bakery</span></a>
      <h2 class="mt-4">Create Account</h2>
    </div>
    
    <form id="signupForm">
      <div class="form-group">
        <label>Full Name</label>
        <input type="text" id="regName" required placeholder="John Doe">
      </div>
      <div class="form-group">
        <label>Email Address</label>
        <input type="email" id="regEmail" required placeholder="john@example.com">
      </div>
      <div class="form-group">
        <label>Phone Number</label>
        <input type="tel" id="regPhone" required placeholder="9876543210">
      </div>
      <div class="form-group">
        <label>Delivery Address</label>
        <textarea id="regAddress" required placeholder="Street, City, Zip" rows="2"></textarea>
      </div>
      <div class="form-group">
        <label>Password</label>
        <input type="password" id="regPass" required placeholder="••••••">
      </div>
      <button type="submit" class="btn primary" style="width:100%;">Create Account</button>
    </form>
    
    <p class="text-center mt-4 text-sm">
      Already have an account? <a href="login.html" style="color:var(--primary);">Login</a>
    </p>
  </div>

  <script>
    document.getElementById("signupForm").addEventListener("submit", (e) => {
      e.preventDefault();
      const name = document.getElementById("regName").value;
      const email = document.getElementById("regEmail").value;
      const phone = document.getElementById("regPhone").value;
      const address = document.getElementById("regAddress").value;
      const pass = document.getElementById("regPass").value;

      const users = JSON.parse(localStorage.getItem("users") || "[]");
      if (users.find(u => u.email === email)) {
        return alert("Email already exists!");
      }

      const newUser = {
        name,
        email,
        phone,
        address,
        password: pass,
        role: email.includes("admin") ? "admin" : "customer",
        wallet: 0
      };

      users.push(newUser);
      localStorage.setItem("users", JSON.stringify(users));
      localStorage.setItem("user", JSON.stringify({ name, email }));
      
      alert("Registration Successful!");
      window.location.href = "profile.html";
    });
  </script>

  <footer style="margin-top: auto; width: 100%;">
    <div class="container footer-bottom">
      <p style="margin: 0; opacity: 0.6;">© 2026 Gyan Bakery. All rights reserved. ❤️</p>
    </div>
  </footer>
</body>
</html>
