<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Gyan Bakery ‚Ä¢ Fresh Cakes & Breads</title>
  <link rel="stylesheet" href="assets/styles.css">
  <!-- WhatsApp Float Icon CSS -->
  <style>
    .whatsapp-float { position: fixed; bottom: 20px; right: 20px; background: #25d366; color: white; width: 60px; height: 60px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 30px; box-shadow: 0 4px 10px rgba(0,0,0,0.3); z-index: 1000; }
  </style>
</head>
<body>
  <header class="site-header">
    <div class="container header-wrap">
      <a class="logo" href="index.html">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2L2 7l10 5 10-5-10-5z"/><path d="M2 17l10 5 10-5"/><path d="M2 12l10 5 10-5"/></svg>
        <span>Gyan Bakery</span>
      </a>
      <nav class="nav">
        <a href="index.html">Home</a>
        <a href="products.html">Products</a>
        <a href="custom-cake.html">Custom Cake</a>
        <a href="about.html">About</a>
        <a href="contact.html">Contact</a>
        <a href="cart.html" class="btn outline">Cart <span id="cartBadge" class="badge" style="display:none;"></span></a>
        <span id="authLinks"><a href="login.html" class="btn primary">Login</a></span>
      </nav>
    </div>
  </header>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const user = JSON.parse(localStorage.getItem("user"));
      if (user) {
        document.getElementById("authLinks").innerHTML = `
          <a href="customer.html" class="btn outline sm">Dashboard</a>
          <a href="profile.html" class="btn primary sm">Hi, ${user.name.split(' ')[0]}</a>
        `;
      }
    });
  </script>

  <section class="hero" id="heroSlider">
    <div class="hero-overlay"></div>
    <div class="container hero-content">
      <h1>Freshly Baked Happiness</h1>
      <p>Artisanal breads, premium cakes, and mouth-watering pastries baked fresh every day. Order now for doorstep delivery.</p>
      <div class="flex justify-center gap-2">
        <a href="products.html" class="btn primary">Order Now</a>
        <a href="custom-cake.html" class="btn outline">Customize Cake</a>
      </div>
    </div>
  </section>

  <script>
    const images = [
      "https://images.unsplash.com/photo-1578985545062-69928b1d9587?auto=format&fit=crop&w=1600&q=80",
      "https://images.unsplash.com/photo-1616541823729-00fe0aacd32c?auto=format&fit=crop&w=1600&q=80",
      "https://images.unsplash.com/photo-1585478564381-e0df37348039?auto=format&fit=crop&w=1600&q=80",
      "https://images.unsplash.com/photo-1555507036-ab1f4038808a?auto=format&fit=crop&w=1600&q=80",
      "https://images.unsplash.com/photo-1499636138143-bd649043ea52?auto=format&fit=crop&w=1600&q=80",
      "https://images.unsplash.com/photo-1563729768-6af784d6df1a?auto=format&fit=crop&w=1600&q=80",
      "https://images.unsplash.com/photo-1506459225024-1428097a7e18?auto=format&fit=crop&w=1600&q=80",
      "https://images.unsplash.com/photo-1606890737304-57a1ca8a5b62?auto=format&fit=crop&w=1600&q=80",
      "https://images.unsplash.com/photo-1567171466295-4afa63d45416?auto=format&fit=crop&w=1600&q=80",
      "https://images.unsplash.com/photo-1569864358642-9d1684040f43?auto=format&fit=crop&w=1600&q=80"
    ];
    let currentIdx = 0;
    const hero = document.getElementById("heroSlider");
    
    function nextImage() {
      currentIdx = (currentIdx + 1) % images.length;
      hero.style.backgroundImage = `url('${images[currentIdx]}')`;
    }
    
    // Preload
    images.forEach(src => { const img = new Image(); img.src = src; });
    
    hero.style.backgroundImage = `url('${images[0]}')`;
    setInterval(nextImage, 5000);
  </script>

  <section class="container mt-4">
    <h2 class="text-center">Featured Delights</h2>
    <div id="featuredGrid" class="grid-4 mt-4">
      <!-- Populated by JS -->
    </div>
    <div class="text-center mt-4">
      <a href="products.html" class="btn outline">View All Products</a>
    </div>
  </section>

  <section class="container mt-4" style="background:#fff0f5; padding: 2rem; border-radius: 12px;">
    <div class="grid-2 items-center">
      <div>
        <h2>Custom Cakes for Every Occasion</h2>
        <p>Birthdays, Weddings, or Anniversaries - make them special with our personalized cakes. Choose your flavor, size, and design.</p>
        <a href="custom-cake.html" class="btn primary">Start Designing</a>
      </div>
      <img src="https://images.unsplash.com/photo-1535254973040-607b474cb50d?auto=format&fit=crop&w=800&q=80" alt="Custom Cake" style="border-radius:12px; width:100%; height:300px; object-fit:cover;">
    </div>
  </section>

  <!-- Videos Section -->
  <section class="container mt-4">
    <h2 class="text-center">Bakery in Action</h2>
    <div id="dynamicVideoGrid" class="grid-3 mt-4">
      <!-- Populated by JS -->
    </div>
  </section>

  <!-- Google Style Reviews -->
  <section class="container mt-4" style="background:#f8fafc; padding:3rem 0; border-radius: 20px;">
    <div class="container">
      <h2 class="text-center">What Our Customers Say</h2>
      <div id="dynamicReviewGrid" class="grid-3 mt-4">
        <!-- Populated by JS -->
      </div>
    </div>
  </section>

  <!-- Blog Section -->
  <section class="container mt-4 mb-4 blog-section-premium">
    <div class="flex justify-between items-end mb-4">
      <div>
        <span class="text-accent font-bold uppercase tracking-wider text-sm">Our Stories</span>
        <h2 class="mt-1">The Baker's Journal</h2>
      </div>
      <a href="#" class="btn outline sm">View All Posts</a>
    </div>
    <div id="dynamicBlogGrid" class="premium-blog-grid">
      <!-- Populated by JS -->
    </div>
  </section>

  <style>
    .blog-section-premium {
      padding: 4rem 0;
    }
    .premium-blog-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
      gap: 2.5rem;
    }
    .blog-card-premium {
      position: relative;
      background: #fff;
      border-radius: 20px;
      overflow: hidden;
      box-shadow: 0 10px 30px rgba(0,0,0,0.05);
      transition: all 0.4s cubic-bezier(0.165, 0.84, 0.44, 1);
      border: 1px solid rgba(0,0,0,0.03);
    }
    .blog-card-premium:hover {
      transform: translateY(-10px);
      box-shadow: 0 20px 40px rgba(0,0,0,0.1);
    }
    .blog-image-wrapper {
      position: relative;
      height: 240px;
      overflow: hidden;
    }
    .blog-image-wrapper img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.6s ease;
    }
    .blog-card-premium:hover .blog-image-wrapper img {
      transform: scale(1.1);
    }
    .blog-date-badge {
      position: absolute;
      top: 1rem;
      left: 1rem;
      background: rgba(255, 255, 255, 0.9);
      backdrop-filter: blur(4px);
      padding: 0.5rem 1rem;
      border-radius: 50px;
      font-size: 0.75rem;
      font-weight: 700;
      color: var(--accent);
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }
    .blog-content-premium {
      padding: 2rem;
    }
    .blog-content-premium h3 {
      font-size: 1.5rem;
      margin-bottom: 1rem;
      line-height: 1.3;
      color: var(--text);
      transition: color 0.3s ease;
    }
    .blog-card-premium:hover .blog-content-premium h3 {
      color: var(--accent);
    }
    .blog-excerpt {
      color: #6b7280;
      font-size: 0.95rem;
      line-height: 1.6;
      display: -webkit-box;
      -webkit-line-clamp: 3;
      -webkit-box-orient: vertical;
      overflow: hidden;
      margin-bottom: 1.5rem;
    }
    .blog-footer-premium {
      display: flex;
      align-items: center;
      justify-content: space-between;
      border-top: 1px solid #f3f4f6;
      padding-top: 1.5rem;
    }
    .read-more-link {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      color: var(--accent);
      font-weight: 700;
      text-decoration: none;
      font-size: 0.9rem;
      cursor: pointer;
    }
    .read-more-link i {
      transition: transform 0.3s ease;
    }
    .blog-card-premium:hover .read-more-link i {
      transform: translateX(5px);
    }
  </style>

  <!-- Blog Detail Modal -->
  <div id="blogDetailModal" class="modal" style="display:none;">
    <div class="modal-content" style="max-width: 800px;">
      <div id="blogDetailContent"></div>
      <button class="btn outline mt-4" onclick="closeBlogDetail()">Close</button>
    </div>
  </div>

  <script>
    window.openBlogDetail = (idx) => {
      const defaultBlogs = [
        { title: "Secrets of Perfect Sourdough", summary: "Learn the science behind the crust and crumb.", content: "Sourdough baking is as much an art as it is a science. The secret lies in the long fermentation process...", image: "https://images.unsplash.com/photo-1585478259715-876acc5be8eb?auto=format&fit=crop&w=800&q=80", date: "Feb 5, 2026" },
        { title: "Why Eggless Baking is Trending", summary: "Discover how we make cakes fluffy without eggs.", content: "Many people are switching to eggless options for health or ethical reasons. We use high-quality substitutes like yogurt and flaxseeds...", image: "https://images.unsplash.com/photo-1550617931-e17a7b70dce2?auto=format&fit=crop&w=800&q=80", date: "Feb 3, 2026" },
        { title: "Top 5 Pastry Pairings", summary: "The best coffees to match with our croissants.", content: "Nothing beats a fresh croissant with a perfectly brewed latte. Here's our guide to the best pairings...", image: "https://images.unsplash.com/photo-1555507036-ab1f4038808a?auto=format&fit=crop&w=800&q=80", date: "Feb 1, 2026" }
      ];
      const blogs = JSON.parse(localStorage.getItem("bakeryBlogs") || JSON.stringify(defaultBlogs));
      const b = blogs[idx];
      const detail = document.getElementById("blogDetailContent");
      detail.innerHTML = `
        <img src="${b.image}" style="width:100%; height:350px; object-fit:cover; border-radius:12px;">
        <p class="text-muted mt-4">${b.date}</p>
        <h1 class="mt-2">${b.title}</h1>
        <div class="mt-4" style="line-height:1.6; font-size:1.1rem; color:#374151;">${b.content || b.summary}</div>
      `;
      document.getElementById("blogDetailModal").style.display = "flex";
    };

    window.closeBlogDetail = () => {
      document.getElementById("blogDetailModal").style.display = "none";
    };

    document.addEventListener("DOMContentLoaded", () => {
      // 1. Gallery
      const defaultGallery = [
        "https://images.unsplash.com/photo-1517433670267-08bbd4be890f?auto=format&fit=crop&w=800&q=80",
        "https://images.unsplash.com/photo-1551024601-bec0273e132e?auto=format&fit=crop&w=800&q=80",
        "https://images.unsplash.com/photo-1509440159596-0249088772ff?auto=format&fit=crop&w=800&q=80",
        "https://images.unsplash.com/photo-1588196749597-9ff075ee6b5b?auto=format&fit=crop&w=800&q=80"
      ];
      const gallery = JSON.parse(localStorage.getItem("bakeryGallery") || JSON.stringify(defaultGallery));
      const gGrid = document.getElementById("dynamicGalleryGrid");
      if (gGrid) {
        gGrid.innerHTML = gallery.map(img => `
          <img src="${img}" style="border-radius:12px; height:220px; width:100%; object-fit:cover; transition: 0.3s; cursor: pointer;" alt="Gallery" onmouseover="this.style.transform='scale(1.02)'" onmouseout="this.style.transform='scale(1)'">
        `).join("");
      }

      // 2. Videos
      const defaultVideos = [
        { title: "Artisanal Bread Baking", src: "https://www.youtube.com/watch?v=2T9pP6nN07M" },
        { title: "Perfect Cake Frosting", src: "https://www.youtube.com/watch?v=kYv_8E4A0sI" },
        { title: "Morning in the Bakery", src: "https://www.youtube.com/watch?v=Xv6S3E2R7_I" },
        { title: "Chocolate Cookie Magic", src: "https://www.youtube.com/watch?v=Jv2D6VvS9g8" },
        { title: "French Pastry Masterclass", src: "https://www.youtube.com/watch?v=l_LqB6tJ-qQ" }
      ];
      const videos = JSON.parse(localStorage.getItem("bakeryVideos") || JSON.stringify(defaultVideos));
      const vGrid = document.getElementById("dynamicVideoGrid");
      if (vGrid && videos.length > 0) {
        vGrid.innerHTML = videos.map(vid => `
          <div style="background:white; border-radius:12px; overflow:hidden; box-shadow:var(--shadow);">
            ${vid.src.includes('youtube.com') ? 
              `<iframe src="${vid.src.replace('watch?v=', 'embed/')}" style="width:100%; height:200px; border:0;"></iframe>` : 
              `<video src="${vid.src}" controls style="width:100%; height:200px; object-fit:cover;"></video>`
            }
            <div style="padding:1rem;"><h4 style="margin:0;">${vid.title}</h4></div>
          </div>
        `).join("");
      } else if (vGrid) {
        vGrid.innerHTML = `<p class="col-span-3 text-center text-muted">New videos coming soon!</p>`;
      }

      // 3. Reviews
      const defaultReviews = [
        { name: "Rahul Sharma", rating: 5, comment: "The Choco Truffle is out of this world! Highly recommend." },
        { name: "Surbhi Gupta", rating: 5, comment: "Best sourdough in the city. Fresh and authentic." },
        { name: "James Bond", rating: 4, comment: "Love the atmosphere and the snacks. Great service!" },
        { name: "Ananya Kapoor", rating: 5, comment: "Best eggless options I've ever found. So soft!" },
        { name: "Vikram Rathore", rating: 5, comment: "Ordered a custom cake for my birthday. Perfect!" }
      ];
      const reviews = JSON.parse(localStorage.getItem("bakeryReviews") || JSON.stringify(defaultReviews));
      const rGrid = document.getElementById("dynamicReviewGrid");
      if (rGrid) {
        rGrid.innerHTML = reviews.map(rev => `
          <div style="background:white; padding:1.5rem; border-radius:12px; box-shadow:var(--shadow); position:relative;">
            <div style="color: #fbbf24; font-size: 1.25rem; margin-bottom: 0.5rem;">${'‚òÖ'.repeat(rev.rating)}${'‚òÜ'.repeat(5-rev.rating)}</div>
            <p style="font-style: italic; color: #4b5563;">"${rev.comment}"</p>
            <p class="mt-4" style="font-weight: 700; color: var(--text);">- ${rev.name}</p>
            <div style="position:absolute; top:1.5rem; right:1.5rem; color:#e5e7eb; font-size:3rem; line-height:1; font-family:serif;">"</div>
          </div>
        `).join("");
      }

      // 4. Blogs
      const defaultBlogs = [
        { title: "Secrets of Perfect Sourdough", summary: "Learn the science behind the crust and crumb.", image: "https://images.unsplash.com/photo-1585478259715-876acc5be8eb?auto=format&fit=crop&w=800&q=80", date: "Feb 5, 2026" },
        { title: "Why Eggless Baking is Trending", summary: "Discover how we make cakes fluffy without eggs.", image: "https://images.unsplash.com/photo-1550617931-e17a7b70dce2?auto=format&fit=crop&w=800&q=80", date: "Feb 3, 2026" },
        { title: "Top 5 Pastry Pairings", summary: "The best coffees to match with our croissants.", image: "https://images.unsplash.com/photo-1555507036-ab1f4038808a?auto=format&fit=crop&w=800&q=80", date: "Feb 1, 2026" }
      ];
      const blogs = JSON.parse(localStorage.getItem("bakeryBlogs") || JSON.stringify(defaultBlogs));
      const bGrid = document.getElementById("dynamicBlogGrid");
      if (bGrid && blogs.length > 0) {
        bGrid.innerHTML = blogs.slice(0, 3).map((b, i) => `
          <div class="blog-card-premium" onclick="openBlogDetail(${i})">
            <div class="blog-image-wrapper">
              <img src="${b.image}" alt="${b.title}">
              <div class="blog-date-badge">${b.date}</div>
            </div>
            <div class="blog-content-premium">
              <h3>${b.title}</h3>
              <p class="blog-excerpt">${b.summary}</p>
              <div class="blog-footer-premium">
                <span class="read-more-link">Read Full Story <span>‚Üí</span></span>
              </div>
            </div>
          </div>
        `).join("");
      } else if (bGrid) {
        bGrid.innerHTML = `<p class="col-span-3 text-center text-muted">Stay tuned for our baking secrets!</p>`;
      }
    });
  </script>

  <footer>
    <div class="container footer-grid">
      <div>
        <div class="footer-logo">üéÇ Gyan Bakery</div>
        <p>Baking memories since 2010. 100% artisanal, eggless options available.</p>
        <div class="social-links">
          <a href="#" title="Facebook">f</a>
          <a href="#" title="Instagram">ig</a>
          <a href="#" title="Twitter">x</a>
          <a href="#" title="YouTube">yt</a>
        </div>
      </div>
      <div>
        <h3>Quick Links</h3>
        <p><a href="track-order.html">üì¶ Track Order</a></p>
        <p><a href="profile.html">üë§ My Account</a></p>
        <p><a href="products.html">üõçÔ∏è Shop Now</a></p>
      </div>
      <div>
        <h3>Contact & Hours</h3>
        <p>üìç 123 Baker Street, Food City</p>
        <p>üìû +91 98765 43210</p>
        <p>‚úâÔ∏è hello@gyanbakery.com</p>
        <p style="margin-top: 1rem; color: #fff; font-size: 0.9rem; opacity: 0.8;">Mon-Sun: 9AM - 9PM</p>
      </div>
    </div>
    
    <div class="container footer-bottom">
      <p>
        <a href="#">Privacy Policy</a> | 
        <a href="#">Terms of Service</a> | 
        <a href="#">Refund Policy</a>
      </p>
      <p style="margin-top: 1rem; opacity: 0.6;">¬© 2026 Gyan Bakery. All rights reserved. ‚ù§Ô∏è</p>
    </div>
  </footer>

  <a href="https://wa.me/919876543210" class="whatsapp-float" target="_blank">
    <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" style="width:35px; height:35px;">
  </a>

  <script src="assets/customer.js"></script>
</body>
</html>
